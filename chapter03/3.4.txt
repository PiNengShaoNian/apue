许多程序中都包含下面一段代码：

dup2(fd, 0);
dup2(fd, 1);
dup2(fd, 2);
if (fd > 2)
    close(fd);
为了说明 if 语句的必要性，假设 fd 是 1 ，画出每次调用 dup2 时 3 个描述符项及相应的文件表项的变化情况。然后再画出 fd 为 3 的情况。
若 fd 为 1 ，则调用 dup2 后，0、1、2 描述符都指向 1 所指向的文件表项，其中第二条 dup2 不会进行任何操作，会直接返回。此时共有三个 fd 标志，指向同一个文件表项

若 fd 为 3 ，则调用 dup2 后，0、1、2 描述符都指向 3 所指向的文件表项。此时共有四个 fd 标志，同时指向 3 指向的文件表项